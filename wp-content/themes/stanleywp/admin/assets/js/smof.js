jQuery.noConflict();jQuery(document).ready(function($){jQuery('.fld').click(function(){var $fold='.f_'+this.id;$($fold).slideToggle('normal',"swing");});$('.of-color').wpColorPicker();$('#js-warning').hide();$('.group').hide();function getURLParameter(name){return decodeURI((RegExp(name+'='+'(.+?)(&|$)').exec(location.search)||[,''])[1]);}
if(getURLParameter('tab')!=""){$.cookie('of_current_opt','#'+getURLParameter('tab'),{expires:7,path:'/'});}
if($.cookie("of_current_opt")===null){$('.group:first').fadeIn('fast');$('#of-nav li:first').addClass('current');}else{var hooks=$('#hooks').html();hooks=jQuery.parseJSON(hooks);$.each(hooks,function(key,value){if($.cookie("of_current_opt")=='#of-option-'+value){$('.group#of-option-'+value).fadeIn();$('#of-nav li.'+value).addClass('current');}});}
$('#of-nav li a').click(function(evt){$('#of-nav li').removeClass('current');$(this).parent().addClass('current');var clicked_group=$(this).attr('href');$.cookie('of_current_opt',clicked_group,{expires:7,path:'/'});$('.group').hide();$(clicked_group).fadeIn('fast');return false;});var flip=0;$('#expand_options').click(function(){if(flip==0){flip=1;$('#of_container #of-nav').hide();$('#of_container #content').width(755);$('#of_container .group').add('#of_container .group h2').show();$(this).removeClass('expand');$(this).addClass('close');$(this).text('Close');}else{flip=0;$('#of_container #of-nav').show();$('#of_container #content').width(595);$('#of_container .group').add('#of_container .group h2').hide();$('#of_container .group:first').show();$('#of_container #of-nav li').removeClass('current');$('#of_container #of-nav li:first').addClass('current');$(this).removeClass('close');$(this).addClass('expand');$(this).text('Expand');}});$.fn.center=function(){this.animate({"top":($(window).height()-this.height()-200)/2+$(window).scrollTop()+"px"},100);this.css("left",250);return this;}
$('#of-popup-save').center();$('#of-popup-reset').center();$('#of-popup-fail').center();$(window).scroll(function(){$('#of-popup-save').center();$('#of-popup-reset').center();$('#of-popup-fail').center();});$('.of-radio-img-img').click(function(){$(this).parent().parent().find('.of-radio-img-img').removeClass('of-radio-img-selected');$(this).addClass('of-radio-img-selected');});$('.of-radio-img-label').hide();$('.of-radio-img-img').show();$('.of-radio-img-radio').hide();$('.of-radio-tile-img').click(function(){$(this).parent().parent().find('.of-radio-tile-img').removeClass('of-radio-tile-selected');$(this).addClass('of-radio-tile-selected');});$('.of-radio-tile-label').hide();$('.of-radio-tile-img').show();$('.of-radio-tile-radio').hide();(function($){styleSelect={init:function(){$('.select_wrapper').each(function(){$(this).prepend('<span>'+$(this).find('.select option:selected').text()+'</span>');});$('.select').live('change',function(){$(this).prev('span').replaceWith('<span>'+$(this).find('option:selected').text()+'</span>');});$('.select').bind($.browser.msie?'click':'change',function(event){$(this).prev('span').replaceWith('<span>'+$(this).find('option:selected').text()+'</span>');});}};$(document).ready(function(){styleSelect.init()})})(jQuery);$(".slide_body").hide();$(".slide_edit_button").live('click',function(){$(this).parent().toggleClass("active").next().slideToggle("fast");return false;});function update_slider_title(e){var element=e;if(this.timer){clearTimeout(element.timer);}
this.timer=setTimeout(function(){$(element).parent().prev().find('strong').text(element.value);},100);return true;}
$('.of-slider-title').live('keyup',function(){update_slider_title(this);});$('.slide_delete_button').live('click',function(){var agree=confirm("Are you sure you wish to delete this slide?");if(agree){var $trash=$(this).parents('li');$trash.animate({opacity:0.25,height:0,},500,function(){$(this).remove();});return false;}else{return false;}});$(".slide_add_button").live('click',function(){var slidesContainer=$(this).prev();var sliderId=slidesContainer.attr('id');var numArr=$('#'+sliderId+' li').find('.order').map(function(){var str=this.id;str=str.replace(/\D/g,'');str=parseFloat(str);return str;}).get();var maxNum=Math.max.apply(Math,numArr);if(maxNum<1){maxNum=0};var newNum=maxNum+1;var newSlide='<li class="temphide"><div class="slide_header"><strong>Slide '+newNum+'</strong><input type="hidden" class="slide of-input order" name="'+sliderId+'['+newNum+'][order]" id="'+sliderId+'_slide_order-'+newNum+'" value="'+newNum+'"><a class="slide_edit_button" href="#">Edit</a></div><div class="slide_body" style="display: none; "><label>Title</label><input class="slide of-input of-slider-title" name="'+sliderId+'['+newNum+'][title]" id="'+sliderId+'_'+newNum+'_slide_title" value=""><label>Image URL</label><input class="upload slide of-input" name="'+sliderId+'['+newNum+'][url]" id="'+sliderId+'_'+newNum+'_slide_url" value=""><div class="upload_button_div"><span class="button media_upload_button" id="'+sliderId+'_'+newNum+'">Upload</span><span class="button remove-image hide" id="reset_'+sliderId+'_'+newNum+'" title="'+sliderId+'_'+newNum+'">Remove</span></div><div class="screenshot"></div><label>Link URL (optional)</label><input class="slide of-input" name="'+sliderId+'['+newNum+'][link]" id="'+sliderId+'_'+newNum+'_slide_link" value=""><label>Description (optional)</label><textarea class="slide of-input" name="'+sliderId+'['+newNum+'][description]" id="'+sliderId+'_'+newNum+'_slide_description" cols="8" rows="8"></textarea><a class="slide_delete_button" href="#">Delete</a><div class="clear"></div></div></li>';slidesContainer.append(newSlide);var nSlide=slidesContainer.find('.temphide');nSlide.fadeIn('fast',function(){$(this).removeClass('temphide');});optionsframework_file_bindings();return false;});jQuery('.slider').find('ul').each(function(){var id=jQuery(this).attr('id');$('#'+id).sortable({placeholder:"placeholder",opacity:0.6,handle:".slide_header",cancel:"a"});});jQuery('.sorter').each(function(){var id=jQuery(this).attr('id');$('#'+id).find('ul').sortable({items:'li',placeholder:"placeholder",connectWith:'.sortlist_'+id,opacity:0.6,update:function(){$(this).find('.position').each(function(){var listID=$(this).parent().attr('id');var parentID=$(this).parent().parent().attr('id');parentID=parentID.replace(id+'_','')
var optionID=$(this).parent().parent().parent().attr('id');$(this).prop("name",optionID+'['+parentID+']['+listID+']');});}});});$('#of_backup_button').live('click',function(){var answer=confirm("Click OK to backup your current saved options.")
if(answer){var clickedObject=$(this);var clickedID=$(this).attr('id');var nonce=$('#security').val();var data={action:'of_ajax_post_action',type:'backup_options',security:nonce};$.post(ajaxurl,data,function(response){if(response==-1){var fail_popup=$('#of-popup-fail');fail_popup.fadeIn();window.setTimeout(function(){fail_popup.fadeOut();},2000);}
else{var success_popup=$('#of-popup-save');success_popup.fadeIn();window.setTimeout(function(){location.reload();},1000);}});}
return false;});$('#of_restore_button').live('click',function(){var answer=confirm("'Warning: All of your current options will be replaced with the data from your last backup! Proceed?")
if(answer){var clickedObject=$(this);var clickedID=$(this).attr('id');var nonce=$('#security').val();var data={action:'of_ajax_post_action',type:'restore_options',security:nonce};$.post(ajaxurl,data,function(response){if(response==-1){var fail_popup=$('#of-popup-fail');fail_popup.fadeIn();window.setTimeout(function(){fail_popup.fadeOut();},2000);}
else{var success_popup=$('#of-popup-save');success_popup.fadeIn();window.setTimeout(function(){location.reload();},1000);}});}
return false;});$('#of_import_button').live('click',function(){var answer=confirm("Click OK to import options.")
if(answer){var clickedObject=$(this);var clickedID=$(this).attr('id');var nonce=$('#security').val();var import_data=$('#export_data').val();var data={action:'of_ajax_post_action',type:'import_options',security:nonce,data:import_data};$.post(ajaxurl,data,function(response){var fail_popup=$('#of-popup-fail');var success_popup=$('#of-popup-save');if(response==-1){fail_popup.fadeIn();window.setTimeout(function(){fail_popup.fadeOut();},2000);}
else
{success_popup.fadeIn();window.setTimeout(function(){location.reload();},1000);}});}
return false;});$('#of_save').live('click',function(){var nonce=$('#security').val();$('.ajax-loading-img').fadeIn();var serializedReturn=$('#of_form :input[name][name!="security"][name!="of_reset"]').serialize();$('#of_form :input[type=checkbox]').each(function(){if(!this.checked){serializedReturn+='&'+this.name+'=0';}});var data={type:'save',action:'of_ajax_post_action',security:nonce,data:serializedReturn};$.post(ajaxurl,data,function(response){var success=$('#of-popup-save');var fail=$('#of-popup-fail');var loading=$('.ajax-loading-img');loading.fadeOut();if(response==1){success.fadeIn();}else{fail.fadeIn();}
window.setTimeout(function(){success.fadeOut();fail.fadeOut();},2000);});return false;});$('#of_reset').click(function(){var answer=confirm("Click OK to reset. All settings will be lost and replaced with default settings!");if(answer){var nonce=$('#security').val();$('.ajax-reset-loading-img').fadeIn();var data={type:'reset',action:'of_ajax_post_action',security:nonce,};$.post(ajaxurl,data,function(response){var success=$('#of-popup-reset');var fail=$('#of-popup-fail');var loading=$('.ajax-reset-loading-img');loading.fadeOut();if(response==1)
{success.fadeIn();window.setTimeout(function(){location.reload();},1000);}
else
{fail.fadeIn();window.setTimeout(function(){fail.fadeOut();},2000);}});}
return false;});if(jQuery().tipsy){$('.tooltip, .typography-size, .typography-height, .typography-face, .typography-style, .of-typography-color').tipsy({fade:true,gravity:'s',opacity:0.7,});}
jQuery('.smof_sliderui').each(function(){var obj=jQuery(this);var sId="#"+obj.data('id');var val=parseInt(obj.data('val'));var min=parseInt(obj.data('min'));var max=parseInt(obj.data('max'));var step=parseInt(obj.data('step'));obj.slider({value:val,min:min,max:max,step:step,range:"min",slide:function(event,ui){jQuery(sId).val(ui.value);}});});jQuery(".cb-enable").click(function(){var parent=$(this).parents('.switch-options');jQuery('.cb-disable',parent).removeClass('selected');jQuery(this).addClass('selected');jQuery('.main_checkbox',parent).attr('checked',true);var obj=jQuery(this);var $fold='.f_'+obj.data('id');jQuery($fold).slideDown('normal',"swing");});jQuery(".cb-disable").click(function(){var parent=$(this).parents('.switch-options');jQuery('.cb-enable',parent).removeClass('selected');jQuery(this).addClass('selected');jQuery('.main_checkbox',parent).attr('checked',false);var obj=jQuery(this);var $fold='.f_'+obj.data('id');jQuery($fold).slideUp('normal',"swing");});if(($.browser.msie&&$.browser.version<10)||$.browser.opera){$('.cb-enable span, .cb-disable span').find().attr('unselectable','on');}
function GoogleFontSelect(slctr,mainID){var _selected=$(slctr).val();var _linkclass='style_link_'+mainID;var _previewer=mainID+'_ggf_previewer';if(_selected){$('.'+_previewer).fadeIn();if(_selected!=='none'&&_selected!=='Select a font'){$('.'+_linkclass).remove();var the_font=_selected.replace(/\s+/g,'+');$('head').append('<link href="http://fonts.googleapis.com/css?family='+the_font+'" rel="stylesheet" type="text/css" class="'+_linkclass+'">');$('.'+_previewer).css('font-family',_selected+', sans-serif');}else{$('.'+_previewer).css('font-family','');$('.'+_previewer).fadeOut();}}}
jQuery('.google_font_select').each(function(){var mainID=jQuery(this).attr('id');GoogleFontSelect(this,mainID);});jQuery('.google_font_select').change(function(){var mainID=jQuery(this).attr('id');GoogleFontSelect(this,mainID);});function optionsframework_add_file(event,selector){var upload=$(".uploaded-file"),frame;var $el=$(this);event.preventDefault();if(frame){frame.open();return;}
frame=wp.media({title:$el.data('choose'),button:{text:$el.data('update'),close:false}});frame.on('select',function(){var attachment=frame.state().get('selection').first();frame.close();selector.find('.upload').val(attachment.attributes.url);if(attachment.attributes.type=='image'){selector.find('.screenshot').empty().hide().append('<img class="of-option-image" src="'+attachment.attributes.url+'">').slideDown('fast');}
selector.find('.media_upload_button').unbind();selector.find('.remove-image').show().removeClass('hide');selector.find('.of-background-properties').slideDown();optionsframework_file_bindings();});frame.open();}
function optionsframework_remove_file(selector){selector.find('.remove-image').hide().addClass('hide');selector.find('.upload').val('');selector.find('.of-background-properties').hide();selector.find('.screenshot').slideUp();selector.find('.remove-file').unbind();if($('.section-upload .upload-notice').length>0){$('.media_upload_button').remove();}
optionsframework_file_bindings();}
function optionsframework_file_bindings(){$('.remove-image, .remove-file').on('click',function(){optionsframework_remove_file($(this).parents('.section-upload, .section-media, .slide_body'));});$('.media_upload_button').unbind('click').click(function(event){optionsframework_add_file(event,$(this).parents('.section-upload, .section-media, .slide_body'));});}
optionsframework_file_bindings();});